{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Daniel Lepe Vega\\\\Documents\\\\Cisco\\\\Cisco-Simualtion\\\\frontend\\\\src\\\\components\\\\InputTicket.js\";\nimport React, { useState, useEffect } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Title from \"./Title\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    \"& .MuiTextField-root\": {\n      margin: theme.spacing(1),\n      width: \"25ch\"\n    }\n  }\n}));\nexport default function FormPropsTextFields({\n  match\n}) {\n  const classes = useStyles();\n  const [error, setError] = useState(null);\n  const [ticket, setTicket] = useState({\n    numberID: null,\n    impactedUser: \"\",\n    subclass: \"\",\n    category: \"\",\n    state: \"\",\n    summary: \"\",\n    causingCI: \"\",\n    assignedTo: \"\",\n    openDate: \"\",\n    assignedDate: \"\",\n    resolutionDate: \"\",\n    closedDate: \"\",\n    scalationDate: \"\",\n    notes: \"\"\n  });\n\n  const fetchTicket = async () => {\n    try {\n      const data = await fetch(`http://localhost:8000/api/tickets/${match.params.id}`);\n      const item = await data.json();\n      console.log(item);\n      setTicket({\n        numberID: item.numberID,\n        impactedUser: item.impactedUser,\n        subclass: item.subclass,\n        category: item.category,\n        state: item.state,\n        summary: item.summary,\n        causingCI: item.causingCI,\n        assignedTo: item.assignedTo,\n        openDate: item.openDate,\n        assignedDate: item.assignedDate,\n        resolutionDate: item.resolutionDate,\n        closedDate: item.closedDate,\n        scalationDate: item.scalationDate,\n        notes: item.notes\n      });\n      console.log(ticket);\n    } catch (err) {\n      setError(error);\n    }\n  };\n\n  useEffect(() => {\n    fetchTicket();\n  }, []);\n\n  function getCookie(name) {\n    var cookieValue = null;\n\n    if (document.cookie && document.cookie !== \"\") {\n      var cookies = document.cookie.split(\";\");\n\n      for (var i = 0; i < cookies.length; i++) {\n        var cookie = cookies[i].trim();\n\n        if (cookie.substring(0, name.length + 1) === name + \"=\") {\n          cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n          break;\n        }\n      }\n    }\n\n    return cookieValue;\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!ticket.numberID) return;\n    console.log(JSON.stringify(ticket));\n    var csrftoken = getCookie(\"csrftoken\");\n    var url = \"\";\n\n    if (error) {\n      url = \"http://localhost:8000/api/tickets/\";\n    } else {\n      url = `http://localhost:8000/api/tickets/${match.params.id}/`;\n    }\n\n    console.log(url);\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\",\n        \"X-CSRFToken\": csrftoken\n      },\n      body: JSON.stringify(ticket)\n    }).then(response => {\n      setTicket({});\n      console.log(JSON.stringify(ticket));\n    }).catch(function (error) {\n      console.log(\"ERROR:\", error);\n    });\n    setTicket({\n      numberID: null,\n      impactedUser: \"\",\n      subclass: \"\",\n      category: \"\",\n      state: \"\",\n      summary: \"\",\n      causingCI: \"\",\n      assignedTo: \"\",\n      openDate: \"\",\n      assignedDate: \"\",\n      resolutionDate: \"\",\n      closedDate: \"\",\n      scalationDate: \"\",\n      notes: \"\"\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }\n  }, \"Store Ticket\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.root,\n    noValidate: true,\n    autoComplete: \"off\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    required: true,\n    id: \"number-id\",\n    label: \"Number ID\",\n    value: ticket.numberID,\n    onChange: e => {\n      setTicket({ ...ticket,\n        numberID: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"impactedUser\",\n    label: \"Impacted User\",\n    value: ticket.impactedUser,\n    onChange: e => {\n      setTicket({ ...ticket,\n        impactedUser: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"subclass\",\n    label: \"Subclass\",\n    value: ticket.subclass,\n    onChange: e => {\n      setTicket({ ...ticket,\n        subclass: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"category\",\n    label: \"Category\",\n    value: ticket.category,\n    onChange: e => {\n      setTicket({ ...ticket,\n        category: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"state\",\n    label: \"State\",\n    value: ticket.state,\n    onChange: e => {\n      setTicket({ ...ticket,\n        state: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"summary\",\n    label: \"Summary\",\n    value: ticket.summary,\n    onChange: e => {\n      setTicket({ ...ticket,\n        summary: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"causingCI\",\n    label: \"Causing CI\",\n    value: ticket.causingCI,\n    onChange: e => {\n      setTicket({ ...ticket,\n        causingCI: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"assignedTo\",\n    label: \"Assigned to\",\n    value: ticket.assignedTo,\n    onChange: e => {\n      setTicket({ ...ticket,\n        assignedTo: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"openDate\",\n    label: \"Open date\",\n    value: ticket.openDate,\n    helperText: \"AAAA-MM-DD\",\n    onChange: e => {\n      setTicket({ ...ticket,\n        openDate: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"assignedDate\",\n    label: \"Assigned date\",\n    value: ticket.assignedDate,\n    helperText: \"AAAA-MM-DD\",\n    onChange: e => {\n      setTicket({ ...ticket,\n        assignedDate: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"resolutionDate\",\n    label: \"Resolution date\",\n    value: ticket.resolutionDate,\n    helperText: \"AAAA-MM-DD\",\n    onChange: e => {\n      setTicket({ ...ticket,\n        resolutionDate: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"closedDate\",\n    label: \"Closed date\",\n    value: ticket.closedDate,\n    helperText: \"AAAA-MM-DD\",\n    onChange: e => {\n      setTicket({ ...ticket,\n        closedDate: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"scalationDate\",\n    label: \"Scalation date\",\n    value: ticket.scalationDate,\n    helperText: \"AAAA-MM-DD\",\n    onChange: e => {\n      setTicket({ ...ticket,\n        scalationDate: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"notes\",\n    label: \"Notes\",\n    value: ticket.notes,\n    onChange: e => {\n      setTicket({ ...ticket,\n        notes: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    type: \"submit\",\n    startIcon: /*#__PURE__*/React.createElement(SaveIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 24\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 11\n    }\n  }, \"Save\"))));\n}","map":{"version":3,"sources":["C:/Users/Daniel Lepe Vega/Documents/Cisco/Cisco-Simualtion/frontend/src/components/InputTicket.js"],"names":["React","useState","useEffect","TextField","Button","SaveIcon","makeStyles","Title","useStyles","theme","root","margin","spacing","width","FormPropsTextFields","match","classes","error","setError","ticket","setTicket","numberID","impactedUser","subclass","category","state","summary","causingCI","assignedTo","openDate","assignedDate","resolutionDate","closedDate","scalationDate","notes","fetchTicket","data","fetch","params","id","item","json","console","log","err","getCookie","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","handleSubmit","e","preventDefault","JSON","stringify","csrftoken","url","method","headers","body","then","response","catch","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,MAAMC,SAAS,GAAGF,UAAU,CAAEG,KAAD,KAAY;AACvCC,EAAAA,IAAI,EAAE;AACJ,4BAAwB;AACtBC,MAAAA,MAAM,EAAEF,KAAK,CAACG,OAAN,CAAc,CAAd,CADc;AAEtBC,MAAAA,KAAK,EAAE;AAFe;AADpB;AADiC,CAAZ,CAAD,CAA5B;AAQA,eAAe,SAASC,mBAAT,CAA6B;AAAEC,EAAAA;AAAF,CAA7B,EAAwC;AACrD,QAAMC,OAAO,GAAGR,SAAS,EAAzB;AACA,QAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBjB,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM,CAACkB,MAAD,EAASC,SAAT,IAAsBnB,QAAQ,CAAC;AACnCoB,IAAAA,QAAQ,EAAE,IADyB;AAEnCC,IAAAA,YAAY,EAAE,EAFqB;AAGnCC,IAAAA,QAAQ,EAAE,EAHyB;AAInCC,IAAAA,QAAQ,EAAE,EAJyB;AAKnCC,IAAAA,KAAK,EAAE,EAL4B;AAMnCC,IAAAA,OAAO,EAAE,EAN0B;AAOnCC,IAAAA,SAAS,EAAE,EAPwB;AAQnCC,IAAAA,UAAU,EAAE,EARuB;AASnCC,IAAAA,QAAQ,EAAE,EATyB;AAUnCC,IAAAA,YAAY,EAAE,EAVqB;AAWnCC,IAAAA,cAAc,EAAE,EAXmB;AAYnCC,IAAAA,UAAU,EAAE,EAZuB;AAanCC,IAAAA,aAAa,EAAE,EAboB;AAcnCC,IAAAA,KAAK,EAAE;AAd4B,GAAD,CAApC;;AAiBA,QAAMC,WAAW,GAAG,YAAY;AAC9B,QAAI;AACF,YAAMC,IAAI,GAAG,MAAMC,KAAK,CACrB,qCAAoCtB,KAAK,CAACuB,MAAN,CAAaC,EAAG,EAD/B,CAAxB;AAGA,YAAMC,IAAI,GAAG,MAAMJ,IAAI,CAACK,IAAL,EAAnB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACApB,MAAAA,SAAS,CAAC;AACRC,QAAAA,QAAQ,EAAEmB,IAAI,CAACnB,QADP;AAERC,QAAAA,YAAY,EAAEkB,IAAI,CAAClB,YAFX;AAGRC,QAAAA,QAAQ,EAAEiB,IAAI,CAACjB,QAHP;AAIRC,QAAAA,QAAQ,EAAEgB,IAAI,CAAChB,QAJP;AAKRC,QAAAA,KAAK,EAAEe,IAAI,CAACf,KALJ;AAMRC,QAAAA,OAAO,EAAEc,IAAI,CAACd,OANN;AAORC,QAAAA,SAAS,EAAEa,IAAI,CAACb,SAPR;AAQRC,QAAAA,UAAU,EAAEY,IAAI,CAACZ,UART;AASRC,QAAAA,QAAQ,EAAEW,IAAI,CAACX,QATP;AAURC,QAAAA,YAAY,EAAEU,IAAI,CAACV,YAVX;AAWRC,QAAAA,cAAc,EAAES,IAAI,CAACT,cAXb;AAYRC,QAAAA,UAAU,EAAEQ,IAAI,CAACR,UAZT;AAaRC,QAAAA,aAAa,EAAEO,IAAI,CAACP,aAbZ;AAcRC,QAAAA,KAAK,EAAEM,IAAI,CAACN;AAdJ,OAAD,CAAT;AAgBAQ,MAAAA,OAAO,CAACC,GAAR,CAAYxB,MAAZ;AACD,KAvBD,CAuBE,OAAOyB,GAAP,EAAY;AACZ1B,MAAAA,QAAQ,CAACD,KAAD,CAAR;AACD;AACF,GA3BD;;AA6BAf,EAAAA,SAAS,CAAC,MAAM;AACdiC,IAAAA,WAAW;AACZ,GAFQ,EAEN,EAFM,CAAT;;AAIA,WAASU,SAAT,CAAmBC,IAAnB,EAAyB;AACvB,QAAIC,WAAW,GAAG,IAAlB;;AACA,QAAIC,QAAQ,CAACC,MAAT,IAAmBD,QAAQ,CAACC,MAAT,KAAoB,EAA3C,EAA+C;AAC7C,UAAIC,OAAO,GAAGF,QAAQ,CAACC,MAAT,CAAgBE,KAAhB,CAAsB,GAAtB,CAAd;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,OAAO,CAACG,MAA5B,EAAoCD,CAAC,EAArC,EAAyC;AACvC,YAAIH,MAAM,GAAGC,OAAO,CAACE,CAAD,CAAP,CAAWE,IAAX,EAAb;;AACA,YAAIL,MAAM,CAACM,SAAP,CAAiB,CAAjB,EAAoBT,IAAI,CAACO,MAAL,GAAc,CAAlC,MAAyCP,IAAI,GAAG,GAApD,EAAyD;AACvDC,UAAAA,WAAW,GAAGS,kBAAkB,CAACP,MAAM,CAACM,SAAP,CAAiBT,IAAI,CAACO,MAAL,GAAc,CAA/B,CAAD,CAAhC;AACA;AACD;AACF;AACF;;AACD,WAAON,WAAP;AACD;;AAED,QAAMU,YAAY,GAAIC,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAACC,cAAF;AAEA,QAAI,CAACxC,MAAM,CAACE,QAAZ,EAAsB;AAEtBqB,IAAAA,OAAO,CAACC,GAAR,CAAYiB,IAAI,CAACC,SAAL,CAAe1C,MAAf,CAAZ;AAEA,QAAI2C,SAAS,GAAGjB,SAAS,CAAC,WAAD,CAAzB;AACA,QAAIkB,GAAG,GAAG,EAAV;;AACA,QAAI9C,KAAJ,EAAW;AACT8C,MAAAA,GAAG,GAAG,oCAAN;AACD,KAFD,MAEO;AACLA,MAAAA,GAAG,GAAI,qCAAoChD,KAAK,CAACuB,MAAN,CAAaC,EAAG,GAA3D;AACD;;AACDG,IAAAA,OAAO,CAACC,GAAR,CAAYoB,GAAZ;AAEA1B,IAAAA,KAAK,CAAC0B,GAAD,EAAM;AACTC,MAAAA,MAAM,EAAE,MADC;AAETC,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEP,uBAAeH;AAFR,OAFA;AAMTI,MAAAA,IAAI,EAAEN,IAAI,CAACC,SAAL,CAAe1C,MAAf;AANG,KAAN,CAAL,CAQGgD,IARH,CAQSC,QAAD,IAAc;AAClBhD,MAAAA,SAAS,CAAC,EAAD,CAAT;AACAsB,MAAAA,OAAO,CAACC,GAAR,CAAYiB,IAAI,CAACC,SAAL,CAAe1C,MAAf,CAAZ;AACD,KAXH,EAYGkD,KAZH,CAYS,UAAUpD,KAAV,EAAiB;AACtByB,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsB1B,KAAtB;AACD,KAdH;AAeAG,IAAAA,SAAS,CAAC;AACRC,MAAAA,QAAQ,EAAE,IADF;AAERC,MAAAA,YAAY,EAAE,EAFN;AAGRC,MAAAA,QAAQ,EAAE,EAHF;AAIRC,MAAAA,QAAQ,EAAE,EAJF;AAKRC,MAAAA,KAAK,EAAE,EALC;AAMRC,MAAAA,OAAO,EAAE,EAND;AAORC,MAAAA,SAAS,EAAE,EAPH;AAQRC,MAAAA,UAAU,EAAE,EARJ;AASRC,MAAAA,QAAQ,EAAE,EATF;AAURC,MAAAA,YAAY,EAAE,EAVN;AAWRC,MAAAA,cAAc,EAAE,EAXR;AAYRC,MAAAA,UAAU,EAAE,EAZJ;AAaRC,MAAAA,aAAa,EAAE,EAbP;AAcRC,MAAAA,KAAK,EAAE;AAdC,KAAD,CAAT;AAgBD,GA/CD;;AAiDA,sBACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AACE,IAAA,SAAS,EAAElB,OAAO,CAACN,IADrB;AAEE,IAAA,UAAU,MAFZ;AAGE,IAAA,YAAY,EAAC,KAHf;AAIE,IAAA,QAAQ,EAAE+C,YAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AACE,IAAA,QAAQ,MADV;AAEE,IAAA,EAAE,EAAC,WAFL;AAGE,IAAA,KAAK,EAAC,WAHR;AAIE,IAAA,KAAK,EAAEtC,MAAM,CAACE,QAJhB;AAKE,IAAA,QAAQ,EAAGqC,CAAD,IAAO;AACftC,MAAAA,SAAS,CAAC,EAAE,GAAGD,MAAL;AAAaE,QAAAA,QAAQ,EAAEqC,CAAC,CAACY,MAAF,CAASC;AAAhC,OAAD,CAAT;AACD,KAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAUE,oBAAC,SAAD;AACE,IAAA,EAAE,EAAC,cADL;AAEE,IAAA,KAAK,EAAC,eAFR;AAGE,IAAA,KAAK,EAAEpD,MAAM,CAACG,YAHhB;AAIE,IAAA,QAAQ,EAAGoC,CAAD,IAAO;AACftC,MAAAA,SAAS,CAAC,EAAE,GAAGD,MAAL;AAAaG,QAAAA,YAAY,EAAEoC,CAAC,CAACY,MAAF,CAASC;AAApC,OAAD,CAAT;AACD,KANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,eAkBE,oBAAC,SAAD;AACE,IAAA,EAAE,EAAC,UADL;AAEE,IAAA,KAAK,EAAC,UAFR;AAGE,IAAA,KAAK,EAAEpD,MAAM,CAACI,QAHhB;AAIE,IAAA,QAAQ,EAAGmC,CAAD,IAAO;AACftC,MAAAA,SAAS,CAAC,EAAE,GAAGD,MAAL;AAAaI,QAAAA,QAAQ,EAAEmC,CAAC,CAACY,MAAF,CAASC;AAAhC,OAAD,CAAT;AACD,KANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlBF,eA0BE,oBAAC,SAAD;AACE,IAAA,EAAE,EAAC,UADL;AAEE,IAAA,KAAK,EAAC,UAFR;AAGE,IAAA,KAAK,EAAEpD,MAAM,CAACK,QAHhB;AAIE,IAAA,QAAQ,EAAGkC,CAAD,IAAO;AACftC,MAAAA,SAAS,CAAC,EAAE,GAAGD,MAAL;AAAaK,QAAAA,QAAQ,EAAEkC,CAAC,CAACY,MAAF,CAASC;AAAhC,OAAD,CAAT;AACD,KANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA1BF,eAkCE,oBAAC,SAAD;AACE,IAAA,EAAE,EAAC,OADL;AAEE,IAAA,KAAK,EAAC,OAFR;AAGE,IAAA,KAAK,EAAEpD,MAAM,CAACM,KAHhB;AAIE,IAAA,QAAQ,EAAGiC,CAAD,IAAO;AACftC,MAAAA,SAAS,CAAC,EAAE,GAAGD,MAAL;AAAaM,QAAAA,KAAK,EAAEiC,CAAC,CAACY,MAAF,CAASC;AAA7B,OAAD,CAAT;AACD,KANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlCF,eA0CE,oBAAC,SAAD;AACE,IAAA,EAAE,EAAC,SADL;AAEE,IAAA,KAAK,EAAC,SAFR;AAGE,IAAA,KAAK,EAAEpD,MAAM,CAACO,OAHhB;AAIE,IAAA,QAAQ,EAAGgC,CAAD,IAAO;AACftC,MAAAA,SAAS,CAAC,EAAE,GAAGD,MAAL;AAAaO,QAAAA,OAAO,EAAEgC,CAAC,CAACY,MAAF,CAASC;AAA/B,OAAD,CAAT;AACD,KANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA1CF,eAkDE,oBAAC,SAAD;AACE,IAAA,EAAE,EAAC,WADL;AAEE,IAAA,KAAK,EAAC,YAFR;AAGE,IAAA,KAAK,EAAEpD,MAAM,CAACQ,SAHhB;AAIE,IAAA,QAAQ,EAAG+B,CAAD,IAAO;AACftC,MAAAA,SAAS,CAAC,EAAE,GAAGD,MAAL;AAAaQ,QAAAA,SAAS,EAAE+B,CAAC,CAACY,MAAF,CAASC;AAAjC,OAAD,CAAT;AACD,KANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlDF,eA0DE,oBAAC,SAAD;AACE,IAAA,EAAE,EAAC,YADL;AAEE,IAAA,KAAK,EAAC,aAFR;AAGE,IAAA,KAAK,EAAEpD,MAAM,CAACS,UAHhB;AAIE,IAAA,QAAQ,EAAG8B,CAAD,IAAO;AACftC,MAAAA,SAAS,CAAC,EAAE,GAAGD,MAAL;AAAaS,QAAAA,UAAU,EAAE8B,CAAC,CAACY,MAAF,CAASC;AAAlC,OAAD,CAAT;AACD,KANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA1DF,eAkEE,oBAAC,SAAD;AACE,IAAA,EAAE,EAAC,UADL;AAEE,IAAA,KAAK,EAAC,WAFR;AAGE,IAAA,KAAK,EAAEpD,MAAM,CAACU,QAHhB;AAIE,IAAA,UAAU,EAAC,YAJb;AAKE,IAAA,QAAQ,EAAG6B,CAAD,IAAO;AACftC,MAAAA,SAAS,CAAC,EAAE,GAAGD,MAAL;AAAaU,QAAAA,QAAQ,EAAE6B,CAAC,CAACY,MAAF,CAASC;AAAhC,OAAD,CAAT;AACD,KAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlEF,eA2EE,oBAAC,SAAD;AACE,IAAA,EAAE,EAAC,cADL;AAEE,IAAA,KAAK,EAAC,eAFR;AAGE,IAAA,KAAK,EAAEpD,MAAM,CAACW,YAHhB;AAIE,IAAA,UAAU,EAAC,YAJb;AAKE,IAAA,QAAQ,EAAG4B,CAAD,IAAO;AACftC,MAAAA,SAAS,CAAC,EAAE,GAAGD,MAAL;AAAaW,QAAAA,YAAY,EAAE4B,CAAC,CAACY,MAAF,CAASC;AAApC,OAAD,CAAT;AACD,KAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA3EF,eAoFE,oBAAC,SAAD;AACE,IAAA,EAAE,EAAC,gBADL;AAEE,IAAA,KAAK,EAAC,iBAFR;AAGE,IAAA,KAAK,EAAEpD,MAAM,CAACY,cAHhB;AAIE,IAAA,UAAU,EAAC,YAJb;AAKE,IAAA,QAAQ,EAAG2B,CAAD,IAAO;AACftC,MAAAA,SAAS,CAAC,EAAE,GAAGD,MAAL;AAAaY,QAAAA,cAAc,EAAE2B,CAAC,CAACY,MAAF,CAASC;AAAtC,OAAD,CAAT;AACD,KAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IApFF,eA6FE,oBAAC,SAAD;AACE,IAAA,EAAE,EAAC,YADL;AAEE,IAAA,KAAK,EAAC,aAFR;AAGE,IAAA,KAAK,EAAEpD,MAAM,CAACa,UAHhB;AAIE,IAAA,UAAU,EAAC,YAJb;AAKE,IAAA,QAAQ,EAAG0B,CAAD,IAAO;AACftC,MAAAA,SAAS,CAAC,EAAE,GAAGD,MAAL;AAAaa,QAAAA,UAAU,EAAE0B,CAAC,CAACY,MAAF,CAASC;AAAlC,OAAD,CAAT;AACD,KAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA7FF,eAsGE,oBAAC,SAAD;AACE,IAAA,EAAE,EAAC,eADL;AAEE,IAAA,KAAK,EAAC,gBAFR;AAGE,IAAA,KAAK,EAAEpD,MAAM,CAACc,aAHhB;AAIE,IAAA,UAAU,EAAC,YAJb;AAKE,IAAA,QAAQ,EAAGyB,CAAD,IAAO;AACftC,MAAAA,SAAS,CAAC,EAAE,GAAGD,MAAL;AAAac,QAAAA,aAAa,EAAEyB,CAAC,CAACY,MAAF,CAASC;AAArC,OAAD,CAAT;AACD,KAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtGF,eA+GE,oBAAC,SAAD;AACE,IAAA,EAAE,EAAC,OADL;AAEE,IAAA,KAAK,EAAC,OAFR;AAGE,IAAA,KAAK,EAAEpD,MAAM,CAACe,KAHhB;AAIE,IAAA,QAAQ,EAAGwB,CAAD,IAAO;AACftC,MAAAA,SAAS,CAAC,EAAE,GAAGD,MAAL;AAAae,QAAAA,KAAK,EAAEwB,CAAC,CAACY,MAAF,CAASC;AAA7B,OAAD,CAAT;AACD,KANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA/GF,CANF,eA8HE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,OAAO,EAAC,WADV;AAEE,IAAA,KAAK,EAAC,SAFR;AAGE,IAAA,IAAI,EAAC,QAHP;AAIE,IAAA,SAAS,eAAE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,CA9HF,CAFF,CADF;AA8ID","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Title from \"./Title\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& .MuiTextField-root\": {\r\n      margin: theme.spacing(1),\r\n      width: \"25ch\",\r\n    },\r\n  },\r\n}));\r\nexport default function FormPropsTextFields({ match }) {\r\n  const classes = useStyles();\r\n  const [error, setError] = useState(null);\r\n  const [ticket, setTicket] = useState({\r\n    numberID: null,\r\n    impactedUser: \"\",\r\n    subclass: \"\",\r\n    category: \"\",\r\n    state: \"\",\r\n    summary: \"\",\r\n    causingCI: \"\",\r\n    assignedTo: \"\",\r\n    openDate: \"\",\r\n    assignedDate: \"\",\r\n    resolutionDate: \"\",\r\n    closedDate: \"\",\r\n    scalationDate: \"\",\r\n    notes: \"\",\r\n  });\r\n\r\n  const fetchTicket = async () => {\r\n    try {\r\n      const data = await fetch(\r\n        `http://localhost:8000/api/tickets/${match.params.id}`\r\n      );\r\n      const item = await data.json();\r\n      console.log(item);\r\n      setTicket({\r\n        numberID: item.numberID,\r\n        impactedUser: item.impactedUser,\r\n        subclass: item.subclass,\r\n        category: item.category,\r\n        state: item.state,\r\n        summary: item.summary,\r\n        causingCI: item.causingCI,\r\n        assignedTo: item.assignedTo,\r\n        openDate: item.openDate,\r\n        assignedDate: item.assignedDate,\r\n        resolutionDate: item.resolutionDate,\r\n        closedDate: item.closedDate,\r\n        scalationDate: item.scalationDate,\r\n        notes: item.notes,\r\n      });\r\n      console.log(ticket);\r\n    } catch (err) {\r\n      setError(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchTicket();\r\n  }, []);\r\n\r\n  function getCookie(name) {\r\n    var cookieValue = null;\r\n    if (document.cookie && document.cookie !== \"\") {\r\n      var cookies = document.cookie.split(\";\");\r\n      for (var i = 0; i < cookies.length; i++) {\r\n        var cookie = cookies[i].trim();\r\n        if (cookie.substring(0, name.length + 1) === name + \"=\") {\r\n          cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    return cookieValue;\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!ticket.numberID) return;\r\n\r\n    console.log(JSON.stringify(ticket));\r\n\r\n    var csrftoken = getCookie(\"csrftoken\");\r\n    var url = \"\";\r\n    if (error) {\r\n      url = \"http://localhost:8000/api/tickets/\";\r\n    } else {\r\n      url = `http://localhost:8000/api/tickets/${match.params.id}/`;\r\n    }\r\n    console.log(url);\r\n\r\n    fetch(url, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-type\": \"application/json\",\r\n        \"X-CSRFToken\": csrftoken,\r\n      },\r\n      body: JSON.stringify(ticket),\r\n    })\r\n      .then((response) => {\r\n        setTicket({});\r\n        console.log(JSON.stringify(ticket));\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"ERROR:\", error);\r\n      });\r\n    setTicket({\r\n      numberID: null,\r\n      impactedUser: \"\",\r\n      subclass: \"\",\r\n      category: \"\",\r\n      state: \"\",\r\n      summary: \"\",\r\n      causingCI: \"\",\r\n      assignedTo: \"\",\r\n      openDate: \"\",\r\n      assignedDate: \"\",\r\n      resolutionDate: \"\",\r\n      closedDate: \"\",\r\n      scalationDate: \"\",\r\n      notes: \"\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Title>Store Ticket</Title>\r\n      <form\r\n        className={classes.root}\r\n        noValidate\r\n        autoComplete=\"off\"\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <div>\r\n          <TextField\r\n            required\r\n            id=\"number-id\"\r\n            label=\"Number ID\"\r\n            value={ticket.numberID}\r\n            onChange={(e) => {\r\n              setTicket({ ...ticket, numberID: e.target.value });\r\n            }}\r\n          />\r\n          <TextField\r\n            id=\"impactedUser\"\r\n            label=\"Impacted User\"\r\n            value={ticket.impactedUser}\r\n            onChange={(e) => {\r\n              setTicket({ ...ticket, impactedUser: e.target.value });\r\n            }}\r\n          />\r\n          <TextField\r\n            id=\"subclass\"\r\n            label=\"Subclass\"\r\n            value={ticket.subclass}\r\n            onChange={(e) => {\r\n              setTicket({ ...ticket, subclass: e.target.value });\r\n            }}\r\n          />\r\n          <TextField\r\n            id=\"category\"\r\n            label=\"Category\"\r\n            value={ticket.category}\r\n            onChange={(e) => {\r\n              setTicket({ ...ticket, category: e.target.value });\r\n            }}\r\n          />\r\n          <TextField\r\n            id=\"state\"\r\n            label=\"State\"\r\n            value={ticket.state}\r\n            onChange={(e) => {\r\n              setTicket({ ...ticket, state: e.target.value });\r\n            }}\r\n          />\r\n          <TextField\r\n            id=\"summary\"\r\n            label=\"Summary\"\r\n            value={ticket.summary}\r\n            onChange={(e) => {\r\n              setTicket({ ...ticket, summary: e.target.value });\r\n            }}\r\n          />\r\n          <TextField\r\n            id=\"causingCI\"\r\n            label=\"Causing CI\"\r\n            value={ticket.causingCI}\r\n            onChange={(e) => {\r\n              setTicket({ ...ticket, causingCI: e.target.value });\r\n            }}\r\n          />\r\n          <TextField\r\n            id=\"assignedTo\"\r\n            label=\"Assigned to\"\r\n            value={ticket.assignedTo}\r\n            onChange={(e) => {\r\n              setTicket({ ...ticket, assignedTo: e.target.value });\r\n            }}\r\n          />\r\n          <TextField\r\n            id=\"openDate\"\r\n            label=\"Open date\"\r\n            value={ticket.openDate}\r\n            helperText=\"AAAA-MM-DD\"\r\n            onChange={(e) => {\r\n              setTicket({ ...ticket, openDate: e.target.value });\r\n            }}\r\n          />\r\n          <TextField\r\n            id=\"assignedDate\"\r\n            label=\"Assigned date\"\r\n            value={ticket.assignedDate}\r\n            helperText=\"AAAA-MM-DD\"\r\n            onChange={(e) => {\r\n              setTicket({ ...ticket, assignedDate: e.target.value });\r\n            }}\r\n          />\r\n          <TextField\r\n            id=\"resolutionDate\"\r\n            label=\"Resolution date\"\r\n            value={ticket.resolutionDate}\r\n            helperText=\"AAAA-MM-DD\"\r\n            onChange={(e) => {\r\n              setTicket({ ...ticket, resolutionDate: e.target.value });\r\n            }}\r\n          />\r\n          <TextField\r\n            id=\"closedDate\"\r\n            label=\"Closed date\"\r\n            value={ticket.closedDate}\r\n            helperText=\"AAAA-MM-DD\"\r\n            onChange={(e) => {\r\n              setTicket({ ...ticket, closedDate: e.target.value });\r\n            }}\r\n          />\r\n          <TextField\r\n            id=\"scalationDate\"\r\n            label=\"Scalation date\"\r\n            value={ticket.scalationDate}\r\n            helperText=\"AAAA-MM-DD\"\r\n            onChange={(e) => {\r\n              setTicket({ ...ticket, scalationDate: e.target.value });\r\n            }}\r\n          />\r\n          <TextField\r\n            id=\"notes\"\r\n            label=\"Notes\"\r\n            value={ticket.notes}\r\n            onChange={(e) => {\r\n              setTicket({ ...ticket, notes: e.target.value });\r\n            }}\r\n          />\r\n        </div>\r\n        <div>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            type=\"submit\"\r\n            startIcon={<SaveIcon />}\r\n          >\r\n            Save\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    </React.Fragment>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}